"0","# Procesar resultados no-pooling"
"0","no_pooling_summary <- summary(no_pooling_samples)"
"0","no_pooling_stats <- as.data.frame(no_pooling_summary$statistics)"
"0","no_pooling_quants <- as.data.frame(no_pooling_summary$quantiles)"
"0",""
"0","# Aplicar nombres de sectores"
"0","for(i in 1:nrow(index_map)) {"
"0","  rownames(no_pooling_stats) <- gsub(paste0(""\\["", i, ""\\]""), "
"0","                                     paste0("" ["", index_map$Sector[i], ""]""), "
"0","                                     rownames(no_pooling_stats))"
"0","  rownames(no_pooling_quants) <- gsub(paste0(""\\["", i, ""\\]""), "
"0","                                      paste0("" ["", index_map$Sector[i], ""]""), "
"0","                                      rownames(no_pooling_quants))"
"0","}"
"0",""
"0","# Comparar precisión de estimaciones Beta"
"0","hierarchical_betas <- beta_results[, c(""Mean"", ""SD"", ""2.5%"", ""97.5%"")]"
"0","no_pooling_betas <- cbind("
"0","  no_pooling_stats[grep(""beta \\["", rownames(no_pooling_stats)), c(""Mean"", ""SD"")],"
"0","  no_pooling_quants[grep(""beta \\["", rownames(no_pooling_quants)), c(""2.5%"", ""97.5%"")]"
"0",")"
"0",""
"0","# Tabla comparativa"
"0","comparison_table <- data.frame("
"0","  Sector = gsub("".*\\[(.+)\\].*"", ""\\1"", rownames(hierarchical_betas)),"
"0","  Jerarquico_Beta = hierarchical_betas[, ""Mean""],"
"0","  Jerarquico_CI_Width = hierarchical_betas[, ""97.5%""] - hierarchical_betas[, ""2.5%""],"
"0","  NoPooling_Beta = no_pooling_betas[, ""Mean""],"
"0","  NoPooling_CI_Width = no_pooling_betas[, ""97.5%""] - no_pooling_betas[, ""2.5%""]"
"0",") %>%"
"0","  mutate("
"0","    Mejora_Precision = (NoPooling_CI_Width - Jerarquico_CI_Width) / NoPooling_CI_Width * 100"
"0","  )"
"0",""
"0","# Mostrar tabla de comparación"
"0","comparison_display <- comparison_table %>%"
"0","  mutate("
"0","    `Beta Jerárquico` = round(Jerarquico_Beta, 3),"
"0","    `Beta No-Pooling` = round(NoPooling_Beta, 3),"
"0","    `Mejora en Precisión (%)` = round(Mejora_Precision, 1)"
"0","  ) %>%"
"0","  select(Sector, `Beta Jerárquico`, `Beta No-Pooling`, `Mejora en Precisión (%)`)"
"0",""
"0","kable(comparison_display,"
"0","      caption = ""Comparación de Modelos: Jerárquico vs No-Pooling"","
"0","      format = ""html"","
"0","      table.attr = ""class='table table-striped table-hover'"")"
