"0","# Extraer resultados de Beta"
"0","beta_results <- results_table[grep(""beta \\["", rownames(results_table)), "
"0","                             c(""Mean"", ""SD"", ""2.5%"", ""97.5%"")]"
"0",""
"0","# Agregar interpretación de riesgo"
"0","beta_results$Sector <- gsub("".*\\[(.+)\\].*"", ""\\1"", rownames(beta_results))"
"0","beta_results$`Tipo de Riesgo` <- ifelse(beta_results$`97.5%` < 1, ""Defensivo"","
"0","                                ifelse(beta_results$`2.5%` > 1, ""Agresivo"", ""Neutral""))"
"0",""
"0","# Ordenar por Beta medio"
"0","beta_results <- beta_results[order(beta_results$Mean, decreasing = TRUE), ]"
"0",""
"0","# Crear tabla bonita"
"0","beta_table <- beta_results %>%"
"0","  select(Sector, Mean, `2.5%`, `97.5%`, `Tipo de Riesgo`) %>%"
"0","  mutate("
"0","    `IC 95%` = paste0(""["", round(`2.5%`, 3), "", "", round(`97.5%`, 3), ""]""),"
"0","    `Beta Medio` = round(Mean, 3)"
"0","  ) %>%"
"0","  select(Sector, `Beta Medio`, `IC 95%`, `Tipo de Riesgo`)"
"0",""
"0","kable(beta_table, "
"0","      caption = ""Estimaciones de Beta por Sector (Modelo Jerárquico)"","
"0","      format = ""html"", "
"0","      table.attr = ""class='table table-striped table-hover'"")"
