"0","# Modelo jerárquico en JAGS"
"0","model_string <- """
"0","model {"
"0","  # --- 1. Verosimilitud (Likelihood) ---"
"0","  for (i in 1:N) {"
"0","    R_sector[i] ~ dnorm(mu[i], tau[sector_idx[i]])"
"0","    mu[i] <- alpha[sector_idx[i]] + beta[sector_idx[i]] * R_market[i]"
"0","  }"
"0",""
"0","  # --- 2. Priors de Nivel de Sector ---"
"0","  for (j in 1:J) {"
"0","    # Estructura jerárquica para Beta y Alfa"
"0","    beta[j] ~ dnorm(mu_beta, tau_beta)"
"0","    alpha[j] ~ dnorm(mu_alpha, tau_alpha)"
"0","    "
"0","    # Prior para la desviación estándar del error"
"0","    sigma[j] ~ dunif(0, 100)"
"0","    tau[j] <- 1 / pow(sigma[j], 2)"
"0","  }"
"0",""
"0","  # --- 3. Hiperpriors ---"
"0","  mu_beta ~ dnorm(1, 0.1)     # Centrado en 1 (beta de mercado)"
"0","  tau_beta ~ dgamma(0.1, 0.1) # Prior débilmente informativo"
"0","  "
"0","  mu_alpha ~ dnorm(0, 0.1)    # Centrado en 0 (sin retorno anormal)"
"0","  tau_alpha ~ dgamma(0.1, 0.1)"
"0","}"
"0",""""
"0",""
"0","# Configuración MCMC"
"0","params_to_monitor <- c(""alpha"", ""beta"", ""mu_alpha"", ""mu_beta"", ""sigma"")"
"0","n_chains <- 3"
"0","n_adapt <- 1000"
"0","n_burnin <- 2000"
"0","n_iter <- 5000"
"0",""
"0","cat(""Configuración MCMC:"")"
"1","Configuración MCMC:"
"0","cat(""\n- Cadenas:"", n_chains)"
"1","
- Cadenas:"
"1"," "
"1","3"
"0","cat(""\n- Adaptación:"", n_adapt)"
"1","
- Adaptación:"
"1"," "
"1","1000"
"0","cat(""\n- Burn-in:"", n_burnin)  "
"1","
- Burn-in:"
"1"," "
"1","2000"
"0","cat(""\n- Iteraciones de muestreo:"", n_iter)"
"1","
- Iteraciones de muestreo:"
"1"," "
"1","5000"
